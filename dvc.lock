schema: '2.0'
stages:
  load_data:
    cmd: python src/load_data.py --config=params.yaml
    deps:
    - path: data_given/customerdata.csv
      md5: 5cef9c35a94b17542e9d544bef3720a8
      size: 971697
    - path: src/get_data.py
      md5: 530548f2bd47ef6c7c864d046a7de66d
      size: 1493
    - path: src/load_data.py
      md5: d7e1bd26902f00ada8b01826b481f32a
      size: 3378
    outs:
    - path: data/raw/customerdata.csv
      md5: ee121fd511b834d470770686033ddc8d
      size: 879001
  split_data:
    cmd: python src/split_data.py --config=params.yaml
    deps:
    - path: data/raw/customerdata.csv
      md5: ee121fd511b834d470770686033ddc8d
      size: 879001
    - path: src/get_data.py
      md5: 530548f2bd47ef6c7c864d046a7de66d
      size: 1493
    - path: src/split_data.py
      md5: 57757d3b32482b4cba67d6eaaab4c58f
      size: 1112
    outs:
    - path: data/processed/test_customerdata.csv
      md5: 3c0e88e2a9e65389245bf2002445fe32
      size: 174995
    - path: data/processed/train_customerdata.csv
      md5: 2a7d4e02716d2554d2ac7e0eca5ac8bd
      size: 699442
  train_and_evaluate:
    cmd: python src/train_evaluate.py --config=params.yaml
    deps:
    - path: data/processed/test_customerdata.csv
      md5: 3c0e88e2a9e65389245bf2002445fe32
      size: 174995
    - path: data/processed/train_customerdata.csv
      md5: 2a7d4e02716d2554d2ac7e0eca5ac8bd
      size: 699442
    - path: src/train_evaluate.py
      md5: 63bb483874ea959989eecb7868531f23
      size: 3665
    params:
      params.yaml:
        estimators.RandomForestClassifier.params.criterion: gini
        estimators.RandomForestClassifier.params.max_depth: 1000
        estimators.RandomForestClassifier.params.max_features: sqrt
        estimators.RandomForestClassifier.params.min_samples_leaf: 6
        estimators.RandomForestClassifier.params.min_samples_split: 12
        estimators.RandomForestClassifier.params.n_estimators: 2000
    outs:
    - path: report/params.json
      md5: ff2ec6ba50ce694a4f61151f72a65ac1
      size: 160
    - path: report/scores.json
      md5: 7d606d4399372f8458ae62a76b27690e
      size: 112
    - path: saved_models/model.joblib
      md5: 3a3f88abd4385914e6071c85dc8825c4
      size: 92561123
